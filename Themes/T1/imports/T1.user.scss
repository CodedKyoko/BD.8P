// T1.user.scss v0.1.051
// User popout / Modal

// * User popout currently broken *

// Transition effect on Popout 
.layer-v9HyYc > .animatorLeft-1EQxU0.translate-2dAEQ6 { transform: translateZ(0) }


// -- User modal
.root-3QyAh1 {
  
  // - header
  > .topSection-y3p-_D {
    background-color: var(--background-tertiary) ;
    border-bottom: 1px solid var(--background-modifier-accent);
    
    // Profile banner normal
    .profileBanner-33-uE1 { display: none }
    
    // Profile banner custom image
    .profileBannerPremium-35utuo {
      position: absolute ;
      height: 208px ;
//      height: 240px ;
      filter: brightness(0.5) ;
      pointer-events: none ;
      
      .betaBadge-1Ve-yb { display: none }
      
      // shadows for better readability
      ~ .nameTag-ECvD8P, 
      ~ .customStatusActivity-nmH3DF { @include shadow_effect("drop_1") }
    }
    
    // Top conatiner (avatar, badges, options, ..)
    .header-4zuFdR { 
      height: 152px ;
      
      .actionButton-3vN-m0 {
        transition: none ;
        
        &.colorGreen-29iAKY {
          background-color: rgb(59, 165, 93, .7) ;
          
          &:hover { background-color: rgb(59, 165, 93) }
        }
        
        &:hover { @include shadow_effect("box_2"); }
      }
      
      
      .additionalActionsIcon-365LnQ {
        color: var(--interactive-hover) ;
        
        @include shadow_effect("drop_2");
        
        &:hover { color: var(--interactive-active) }
      }
      
      .relationshipButtons-pUQVkf {
        
        > .button-38aScr ~ div {
//          @include shadow_effect("drop_1");
        }
      }
    }

    // Avatar container
    .avatar-AvHqJA {
      top: 16px ;
      background: none ;
      border: none ;
      
      > .svg-2V3M55 { 
        overflow: visible ;
        
        // Status (works 95% of the time)
        > rect {
          x: 0px ;
          y: 154px ;
          height: 20px ;
          width: 20px ;
          
          &[mask="url(#svg-mask-status-online-mobile)"] {
            x: 6px ;
            height: 20px ;
            width: 14px ;
          }
        }
        
        // The weird status (when status changes while modal is open)
        > .cursorDefault-dsQJ1n { display: none }
      }
      
      // Profile img container
      foreignObject { 
        overflow: visible ;
        mask: none ;
      }

      // Profile img
      .avatar-VxgULZ { 
        border-radius: 7.5% ;
        
        // Shadow effect but not on gifs
        &:not([src*=".gif"]) { @include shadow_effect("drop_1") }
      }
    }

    // Username container
//    .nameTag-ECvD8P { margin: 16px 24px }
    .nameTag-ECvD8P { margin: 16px 48px }

    // Username
    .username-2b1r56 {
      color: var(--header-primary);
      font-weight: 500 ;
      z-index: 1 ;
    }

    // Discriminator
    .discriminator-1swucG {
      margin-left: 2px ;
      color: var(--header-secondary);
      font-size: 17px ;
      font-weight: 500 ;
      z-index: 1 ;
    }

    // Custom status
    .customStatusActivity-nmH3DF {
      position: absolute ;
      top: 92px ;
      left: 180px ;
    }
    
    // nav bar
    .tabBar-3nvOPa {
      
      // nav bar tab
      .tabBarItem-3dfX8P {
        
        &:not(.selected-3s45Ha):hover {
          border-color: transparent ;
        }
      }
    }
  }
  
  // - body
  > .body-r6_QPy {
    background-color: var(--background-tertiary) ;
    
    // Body sections
    .userInfoSection-q_35fn { 
      padding: 16px 0 0 0 ;
    }
    
    // About Me / Note section
    .userInfoSection-q_35fn:first-child { 
      display: grid ;
      grid-template-columns: 50% 50% ;
      grid-template-areas:
        "Header_1 Header_2"
        "Body_1 Body_2";
      
      > * {
        &:nth-child(1) { grid-area: Header_1 }
        &:nth-child(2) { grid-area: Body_1 }
        &:nth-child(3) { grid-area: Header_2 }
        &:nth-child(4) { grid-area: Body_2 }
      }
    }
    
    // Connected account
    .connectedAccount-2Jb-Z0 { 
      color:  var(--channels-default) ;
      border: none ;
    }
    
    // Mutual Servers / Mutual Friends container
    > .listScroller-3GmIYj {
      display: grid ;
      grid-template-columns: 50% 50% ;
      grid-auto-rows: max-content ;
      grid-gap: 5px ;
      padding: 10px 0 ;
      
      // No items in scroller
      > .empty-39KnKA {
        position: absolute ;
        left: 50% ;
        transform: translateX(-50%);
      }
      
      // Activities
      > .activityProfile-2bJRaP {
        grid-column: span 2 ;
      }
    }
  }
}




