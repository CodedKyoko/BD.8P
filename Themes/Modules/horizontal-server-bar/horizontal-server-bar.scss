$current_version: "0.3.2" ;
// Version
[class*="standardSidebarView-"] [class*="sidebar-"] #bd-settings-sidebar::after {
  content: "ServerBar v#{$current_version} by Eight_P";
  display: block;
  font-size: 12px ;
  font-weight: 600 ;
  color: rgb(114, 118, 125);
  padding: 2px 10px;
}

//ServerBar
[class*="layers-"] > [class*="layer-"] > [class*="flex-"] > [class*="wrapper-"] {
  position: absolute ;
	top: 0 ;
	height: 100vw ;
  width: 54px ;
	transform: rotate(-90deg) translateX(-100vh);
	transform-origin: top left ;
  border-radius: 0 ;
  
  ~ div {
    height: calc(100vh - 76px) ; // 76px: bc, gildwrapper + top bar
    width: 100vw ;
  }
  
  [class*="unreadMentionsIndicator"], [class*="guildSeparator-"] { display: none }
  
  [class*="scrollerWrap-"] {
    width: 54px ;
    align-items: center ;
    
    [class*="scroller-"] {
      margin: 120px 0 120px 0 ;
			max-height: calc(100vw - 240px) ;
			padding: 0 ;
      
      &::-webkit-scrollbar { display: none }
      &::before { top: 120px }
      &::after, &::before {
				content: "" ;
				position: absolute ; 
        left: 20% ; right: 20% ;
				height: 2px ;
				opacity: 0.8 ;
        bottom: 120px ; 
			}
      
      @mixin ServerIcon($main_wrapper) {
      //Icon Obj
        margin: 0px ;
        max-height: 60px ;
        width: 54px ;
        
        //Icon Container
        [class*="#{$main_wrapper}"] {
          padding: 5px 2px 5px 2px ;
          
          > [class*="wrapper-"] {
            margin: 5px ;
            height: 40px ; width: 40px ;
            
            svg {
              height: 40px ; width: 40px ;
              background-color: transparent  ;

              // Icon
              foreignObject [class*="wrapper-"]{
                transform: rotate(90deg) ;

                &:hover img { border-radius: 25% }

                //Image
                img {
                  border-radius: 50% ;
                  transition: .4s ;
                }
                //Text
                [class*="acronym-"] { background-color: transparent }
              }
              //Mask Obj (wich idk how it works)
              mask { display: none }
            }
            // Badges
            [class*="badgeWrapper-"] {
              transform: rotate(90deg) ;

              // unread Mentions
              [class*="lowerBadge-"] {
                right: -5px ; bottom: -5px ;
              }
              // voice Icon
              [class*="upperBadge-"] {
                top: -5px ;

                [class*="iconBadge-"] {
                  height: 18px ; width: 18px ;
                }
              }
            }
          }
        }
        
        // unread messages, Server selected
        [class*="pill-"] {
          height: 40px ;
          top: 10px ;
          
          [class*="item-"] {
            width: 15px ;
            margin-left: -12px ;
            border-radius: 0 12px 12px 0 ;
          }
        }
        &.bd-guild [class*="pill-"] { display: none }
        
        &.bd-guild.bd-unread [class*="pill-"], 
        &.bd-guild.bd-selected [class*="pill-"] { display: flex }
      }
      
      > [class*="listItem-"] {
        // Server Icons
        @include ServerIcon ("blobContainer-");
        
        // 10-48-6-20-6-20-10
        // Home Icon
        &:first-child {
          position: absolute ;
          top: 10px ;
          
          [class*="pill-"] { display: none }
          
          mask { display: none }
          
          foreignObject [class*="wrapper-"] {
            transform: rotate(90deg) ;
            background-color: transparent ;
          }
        }
        
        // guildsAdd, guildsError, Discovereeeeee
        &:last-child,
        &:nth-last-of-type(2) {
          position: absolute ;
          left: 17px ; 
          top: 90px ;
          padding: 0 ;
          height: 20px ; 
          width: 20px ;
          
          [class*="pill-"] { display: none }
          
          [class*="circleButtonMask-"] {
            height: 20px ; 
            width: 20px ;
            
            > [class*="svg-"] {
              height: 20px ; 
              width: 20px ;
            }
          }
          
          [class*="circleIconButton-"] {
            transform: rotate(90deg) ;
            background-color: transparent  ;
            
            > svg { height: 40px ; width: 40px }
          }
        }
        &:nth-last-of-type(2) { top: 64px }
        
        // not a great solution
        &:nth-last-of-type(3) [class*="listItemWrapper-"] [class*="circleIconButton-"] {
          transform: rotate(90deg) ;
          background-color: transparent  ;
        }

        [class*="guildsError-"] {
          height: 20px ; 
          width: 20px ;
          transform: rotate(90deg) ;
          background: transparent ;
          border: none ;
          padding: 0 ;
          
          span {
            font-size: 85% ;
            color: #f04747 ;
          }
        }
        
        // BD's Public Server List
        &#bd-pub-li {
          height: 60px;
          width: 54px ;
          margin: 0 ;
          
          [class*="wrapper-"] {
            transform: rotate(90deg) ;
            margin: auto ;
            font-weight: 500 ;
            line-height: 40px ;
            font-size: 80% ;
            height: 40px ;
            width: 40px ;
            border-radius: 50% ;
            transition: .4s ;
            
            &:hover { border-radius: 25% }
          }
        }
      }
      
      // DMs
      > div:not([class*="listItem-"]) > [class*="listItem-"] { 
        @include ServerIcon ("listItemWrapper-");
      }
    }
  }
}

// Server Button
[class*="channels-"] > [class*="container-"]:nth-of-type(1) > [class*="flexChild-"] {
  position: fixed;
  width: 120px ;
  height: 54px ;
  right: 0 ;
  bottom: 0 ;
  
  [class*="container-"], & [class*="header-"] {
    width: 120px ;
    height: 54px ;
    padding: 0 ;
  }
  
  [class*="container-"] {
    width: 120px ;
    height: 54px ;
    padding: 0 ;
    
    [class*="header-"] {
      width: 120px ;
      height: 54px ;
      padding: 0 ;
      
      &:hover { background-color: rgba(0, 0, 0, 0.2) }
      
      [class*="guildIconContainer-"] { display: none }
      
      [class*="name-"] {
        text-align: center ;
        line-height: 1 ;
        white-space: normal ;
        max-height: 32px ;
        font-weight: 400 ;
        padding: 0 5px ;
      }
      
      [class*="button-"], [class*="verified-"] { display: none }
    }
    
    [class*="bannerImage-"] { display: none }
  }
}

// Search Button (home)
[class*="channels-"] > [class*="privateChannels-"] > [class*="searchBar-"] {
  position: fixed;
  width: 120px ;
  height: 54px ;
  right: 0 ;
  bottom: 0 ;
  padding: 0 ;

  &:hover {
    background-color: rgba(0, 0, 0, 0.2);

    &::before { opacity: .9 }
  }

  &::before {
    content: "" ;
    background: url(https://discordapp.com/assets/4d254296157bb8927b7d53ed59beb0d8.svg) ;
    background-repeat: no-repeat ;
    background-size: cover ;
    position: absolute ;
    left: 80px ;
    height: 20px ;
    width: 20px ;
    opacity: .5 ;
  }
  
  &::after {
    content: "search" ;
    position: absolute ;
    top: 20px ; ;
    left: 20px ;
    font-weight: 500 ;
    pointer-events: none ;
  }


  > [class*="searchBarComponent-"] {
    background: transparent ;
    
    [class*="inner-"] input {
      width: 120px ;
      height: 54px ;
      cursor: pointer ;

      &::-webkit-input-placeholder { color: transparent }
    }
  }
}

[class*="popouts-"] .popoutInvert-3UdKhn.noArrow-3BYQ0Z.popout-3sVMXz.popoutTop-3uu9vG.arrowAlignmentTop-iGQczz.theme-undefined:not([class*="popoutBottom-"]):not([class*="popoutTopLeft-"]):not([class*="popoutBottomRight-"]):not([class*="popoutBottomLeft-"]) { left: calc(100vw - 120px) !important }